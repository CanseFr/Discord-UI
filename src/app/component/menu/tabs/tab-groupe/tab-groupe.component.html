<div class="div-main-tab-user">

  <br>
  <h1><b>Groupe : {{nameGroupe.name}} </b></h1>
  <br>

  <div class="top-search-add">
    <div class="search-section">
      <mat-form-field>
        <mat-label>Rechercher ...</mat-label>
        <input  matInput (keyup)="applyFilter($event)" placeholder="Ex. Julien" #input>
      </mat-form-field>
    </div>

    <div class="add-section">
      <button  class="add" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>
              <mat-menu  #menu="matMenu">
                <button (click)="addUserToGroupe(nameGroupe.name, nameGroupe.id)"  mat-menu-item >
                  <mat-icon>person_add</mat-icon>
                  <span  class="add-option">Ajouter</span>
                </button>
                <button (click)="modifyGroupeName(nameGroupe.id, nameGroupe.name, nameGroupe.visibility)" mat-menu-item>
                  <mat-icon >settings</mat-icon>
                  <span class="add-option">Modifier</span>
                </button>
                <button (click)="deleteGroupe(nameGroupe.id, nameGroupe.name)" mat-menu-item>
                  <mat-icon>delete</mat-icon>
                  <span class="add-option">Supprimer</span>
                </button>
              </mat-menu>

    </div>

  </div>

  <div class="mat-elevation-z8 table scroller">

    <table mat-table [dataSource]="dataSource" matSort>

      <ng-container matColumnDef="{{displayedColumns[0]}}">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{nameColumns[0]}} </th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>

      <ng-container matColumnDef="{{displayedColumns[1]}}">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{nameColumns[1]}} </th>
        <td mat-cell *matCellDef="let row"> {{row.firstname}} </td>
      </ng-container>

      <ng-container matColumnDef="{{displayedColumns[2]}}">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{nameColumns[2]}} </th>
        <td mat-cell *matCellDef="let row"> {{row.lastname}} </td>
      </ng-container>

      <ng-container matColumnDef="{{displayedColumns[3]}}">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{nameColumns[3]}} </th>
        <td mat-cell *matCellDef="let row"> {{row.email}} </td>
      </ng-container>

      <ng-container matColumnDef="{{displayedColumns[4]}}" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{nameColumns[4]}} </th>
        <td mat-cell *matCellDef="let row">
          <!--    BOUTTON DELETE USER       -->
          <span (click)="deleteUserToGroupe(row.id, row.firstname, row.lastname,nameGroupe.id, nameGroupe.name )"  class="material-symbols-outlined trash">
              delete
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="5">Aucune r√©sultat pour votre recherche "{{input.value}}"</td>
      </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[10]" aria-label="Select page of users"></mat-paginator>
  </div>
  <br>
</div>


